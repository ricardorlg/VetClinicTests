{"name":"the one where Ricardo tries to register a new owner using the clinic API with an existing owner","id":"the-pet-clinic-should-allow-to-register-a-pet-owner-in-the-system;the-one-where-ricardo-tries-to-register-a-new-owner-using-the-clinic-api-with-an-existing-owner","scenarioId":"classpath:features/owners/owners_registration:the one where Ricardo tries to register a new owner using the clinic API with an existing owner","methodName":"the one where Ricardo tries to register a new owner using the clinic API with an existing owner","testSteps":[{"number":1,"description":"Given Ricardo has already registered an owner with the following information\n| firstName | lastName | address | city | phone |\n| Peter | Anderson | nassaukade 161-2 | Amsterdam | 0629446321 |","duration":43277,"startTime":"2024-09-16T08:50:30.195255776Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":2,"description":"Ricardo registers a new Owner using the API","duration":777,"startTime":"2024-09-16T08:51:12.692675099Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":3,"description":"Ricardo executes a POST on the resource /owners","duration":774,"startTime":"2024-09-16T08:51:12.695139021Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":4,"description":"POST http://localhost:32770/owners","duration":0,"startTime":"2024-09-16T08:52:21.419517796Z[Etc/UTC]","result":"SUCCESS","restQuery":{"method":"POST","path":"http://localhost:32770/owners","content":"{\n    \"firstName\": \"Peter\",\n    \"lastName\": \"Anderson\",\n    \"address\": \"nassaukade 161-2\",\n    \"city\": \"Amsterdam\",\n    \"telephone\": \"0629446321\"\n}","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Content-Length: 0\nDate: Mon, 16 Sep 2024 08:51:12 GMT","responseCookies":"","statusCode":201},"precondition":false,"level":3}]}]}]},{"number":5,"description":"When Kelly sends a registration request using the clinic API with the same data used by Ricardo","duration":268,"startTime":"2024-09-16T08:51:13.472510077Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":6,"description":"Kelly registers a new Owner using the API","duration":176,"startTime":"2024-09-16T08:51:13.557959826Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":7,"description":"Kelly executes a POST on the resource /owners","duration":174,"startTime":"2024-09-16T08:51:13.559163795Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":8,"description":"POST http://localhost:32770/owners","duration":0,"startTime":"2024-09-16T08:52:21.421590347Z[Etc/UTC]","result":"SUCCESS","restQuery":{"method":"POST","path":"http://localhost:32770/owners","content":"{\n    \"firstName\": \"Peter\",\n    \"lastName\": \"Anderson\",\n    \"address\": \"nassaukade 161-2\",\n    \"city\": \"Amsterdam\",\n    \"telephone\": \"0629446321\"\n}","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Content-Length: 0\nDate: Mon, 16 Sep 2024 08:51:13 GMT","responseCookies":"","statusCode":201},"precondition":false,"level":3}]}]}]},{"number":9,"description":"Then the system should return a 400 response code","duration":67683,"startTime":"2024-09-16T08:51:13.741618036Z[Etc/UTC]","result":"FAILURE","precondition":false,"level":0,"children":[{"number":10,"description":"For Kelly: Then the response status should be (400)","duration":10086,"startTime":"2024-09-16T08:51:13.748410592Z[Etc/UTC]","exception":{"errorType":"java.lang.AssertionError","message":"\nExpected: \u003c400\u003e\n     but: was \u003c201\u003e","stackTrace":[{"declaringClass":"com.ricardorlg.vetclinic.stepdefinitions.CommonStepDefinitions","methodName":"theSystemShouldReturnAResponseCode","fileName":"CommonStepDefinitions.java","lineNumber":48}]},"result":"FAILURE","precondition":false,"level":1}]},{"number":11,"description":"And the response body should include the error with code AlreadyExists and field owner","duration":0,"startTime":"2024-09-16T08:51:23.842468777Z[Etc/UTC]","result":"SKIPPED","precondition":false,"level":0}],"userStory":{"id":"classpath:features/owners/owners_registration","storyName":"The Pet Clinic should allow to register a pet owner in the system","displayName":"The Pet Clinic should allow to register a pet owner in the system","path":"owners/owners_registration","pathElements":[{"name":"owners","description":""},{"name":"owners_registration","description":""}],"narrative":"  As a VetClinic Manager\n  I would like to be able to register a new owner in the system\n  In order to handle all the pets and visits made by him","type":"feature"},"title":"the one where Ricardo tries to register a new owner using the clinic API with an existing owner","description":"","tags":[{"name":"Linux","type":"context","displayName":"Linux"},{"name":"Chrome","type":"context","displayName":"Chrome"},{"name":"Assertion error","type":"error","displayName":"Assertion error"},{"name":"Chrome, Linux","type":"context","displayName":"Chrome, Linux"},{"name":"Api","type":"tag","displayName":"Api"}],"startTime":"2024-09-16T08:50:30.016250988Z[Etc/UTC]","endTime":"2024-09-16T08:51:23.844228087Z[Etc/UTC]","duration":111403,"rule":{"name":"The system should not allow to register an owner with same personal information of an existing owner","description":""},"testFailureCause":{"errorType":"net.thucydides.model.domain.MultipleAssertionErrors","message":"\nThe following 2 assertions failed:\n1) Expected: \u003c400\u003e\n     but: was \u003c201\u003e\n2) Expected: \u003c400\u003e\n     but: was \u003c201\u003e\n","stackTrace":[]},"testFailureClassname":"net.thucydides.model.domain.MultipleAssertionErrors","testFailureMessage":"\nThe following 2 assertions failed:\n1) Expected: \u003c400\u003e\n     but: was \u003c201\u003e\n2) Expected: \u003c400\u003e\n     but: was \u003c201\u003e\n","testFailureSummary":"\nThe following 2 assertions failed:\n1) Expected: \u003c400\u003e\n     but: was \u003c201\u003e\n2) Expected: \u003c400\u003e\n     but: was \u003c201\u003e\n","projectKey":"","annotatedResult":"FAILURE","isManualTestingUpToDate":false,"context":"chrome,linux","manual":false,"testSource":"Cucumber","actors":[{"name":"Ricardo"},{"name":"Kelly"}],"result":"FAILURE"}