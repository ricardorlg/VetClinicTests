{"name":"the one where Ricardo tries to register a new owner using the Web form with an existing owner","id":"the-pet-clinic-should-allow-to-register-a-pet-owner-in-the-system;the-one-where-ricardo-tries-to-register-a-new-owner-using-the-web-form-with-an-existing-owner","scenarioId":"classpath:features/owners/owners_registration:the one where Ricardo tries to register a new owner using the Web form with an existing owner","methodName":"the one where Ricardo tries to register a new owner using the Web form with an existing owner","testSteps":[{"number":1,"description":"Given Kelly has already registered an owner with the following information\n| firstName | lastName | address | city | phone |\n| Josh | Long | prinsengracht 263 | Amsterdam | 0687234567 |","duration":1410,"startTime":"2024-09-15T09:36:39.494088944Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":2,"description":"Kelly registers a new Owner using the API","duration":1306,"startTime":"2024-09-15T09:36:39.583019335Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":3,"description":"Kelly executes a POST on the resource /owners","duration":1271,"startTime":"2024-09-15T09:36:39.602616055Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":4,"description":"POST http://localhost:32769/owners","duration":0,"startTime":"2024-09-15T09:37:15.454545548Z[Etc/UTC]","result":"SUCCESS","restQuery":{"method":"POST","path":"http://localhost:32769/owners","content":"{\n    \"firstName\": \"Josh\",\n    \"lastName\": \"Long\",\n    \"address\": \"prinsengracht 263\",\n    \"city\": \"Amsterdam\",\n    \"telephone\": \"0687234567\"\n}","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Content-Length: 0\nDate: Sun, 15 Sep 2024 09:36:40 GMT","responseCookies":"","statusCode":201},"precondition":false,"level":3}]}]}]},{"number":5,"description":"And Ricardo wants to register a new owner using the web application","duration":18935,"startTime":"2024-09-15T09:36:40.911264579Z[Etc/UTC]","screenshots":[{"screenshot":"d775139d6c0d59827e68ac946e394cafbc3b3390e348bf5cf039d04a549bb72e.png","timeStamp":1726393019848,"screenshotName":"d775139d6c0d59827e68ac946e394cafbc3b3390e348bf5cf039d04a549bb72e.png"}],"result":"SUCCESS","precondition":false,"level":0,"children":[{"number":6,"description":"Ricardo navigates to the owner registration page","duration":18764,"startTime":"2024-09-15T09:36:41.082084631Z[Etc/UTC]","screenshots":[{"screenshot":"d775139d6c0d59827e68ac946e394cafbc3b3390e348bf5cf039d04a549bb72e.png","timeStamp":1726393019846,"screenshotName":"d775139d6c0d59827e68ac946e394cafbc3b3390e348bf5cf039d04a549bb72e.png"}],"result":"SUCCESS","precondition":false,"level":1,"children":[{"number":7,"description":"Ricardo opens the home.page page","duration":16355,"startTime":"2024-09-15T09:36:41.113276258Z[Etc/UTC]","screenshots":[{"screenshot":"fb3ed0c4fe8837cb5d205ad0dbdb02205f8ae80010e46d47c45277c537e2aab4.png","timeStamp":1726393017468,"screenshotName":"fb3ed0c4fe8837cb5d205ad0dbdb02205f8ae80010e46d47c45277c537e2aab4.png"}],"result":"SUCCESS","precondition":false,"level":2},{"number":8,"description":"Ricardo clicks on the Owners menu","duration":897,"startTime":"2024-09-15T09:36:57.614915077Z[Etc/UTC]","screenshots":[{"screenshot":"38d710661c598f47025cff34ae8275f3433ff700cf8493abc688a1e2ea22d98f.png","timeStamp":1726393018512,"screenshotName":"38d710661c598f47025cff34ae8275f3433ff700cf8493abc688a1e2ea22d98f.png"}],"result":"SUCCESS","precondition":false,"level":2},{"number":9,"description":"Ricardo clicks on the Register button","duration":868,"startTime":"2024-09-15T09:36:58.593953624Z[Etc/UTC]","screenshots":[{"screenshot":"d775139d6c0d59827e68ac946e394cafbc3b3390e348bf5cf039d04a549bb72e.png","timeStamp":1726393019462,"screenshotName":"d775139d6c0d59827e68ac946e394cafbc3b3390e348bf5cf039d04a549bb72e.png"}],"result":"SUCCESS","precondition":false,"level":2}]}]},{"number":10,"description":"When He fills the registration form with the same data used by Kelly","duration":4732,"startTime":"2024-09-15T09:36:59.848321178Z[Etc/UTC]","screenshots":[{"screenshot":"3ed3add891f31852ba35761e23c5ea1a5c50c885b35f18e1e82674e149533d7c.png","timeStamp":1726393024581,"screenshotName":"3ed3add891f31852ba35761e23c5ea1a5c50c885b35f18e1e82674e149533d7c.png"}],"result":"SUCCESS","precondition":false,"level":0,"children":[{"number":11,"description":"Ricardo registers a new Owner using the web form","duration":4708,"startTime":"2024-09-15T09:36:59.871268297Z[Etc/UTC]","screenshots":[{"screenshot":"3ed3add891f31852ba35761e23c5ea1a5c50c885b35f18e1e82674e149533d7c.png","timeStamp":1726393024579,"screenshotName":"3ed3add891f31852ba35761e23c5ea1a5c50c885b35f18e1e82674e149533d7c.png"}],"result":"SUCCESS","precondition":false,"level":1,"children":[{"number":12,"description":"Ricardo enters \u0027Josh\u0027 into the \u0027firstName\u0027 input field","duration":539,"startTime":"2024-09-15T09:36:59.872544207Z[Etc/UTC]","screenshots":[{"screenshot":"e5b1e194f017bf44a3558ca6441dc0e0ee9a134a2280bc1aa5e2f98280e529b8.png","timeStamp":1726393020412,"screenshotName":"e5b1e194f017bf44a3558ca6441dc0e0ee9a134a2280bc1aa5e2f98280e529b8.png"}],"result":"SUCCESS","precondition":false,"level":2},{"number":13,"description":"Ricardo enters \u0027Long\u0027 into the \u0027lastName\u0027 input field","duration":461,"startTime":"2024-09-15T09:37:00.412943788Z[Etc/UTC]","screenshots":[{"screenshot":"10064d88fb66b41d26edd209e30d532c2c8ebaf20019224f1ffbbd040d64c743.png","timeStamp":1726393020874,"screenshotName":"10064d88fb66b41d26edd209e30d532c2c8ebaf20019224f1ffbbd040d64c743.png"}],"result":"SUCCESS","precondition":false,"level":2},{"number":14,"description":"Ricardo enters \u0027prinsengracht 263\u0027 into the \u0027address\u0027 input field","duration":611,"startTime":"2024-09-15T09:37:00.875429781Z[Etc/UTC]","screenshots":[{"screenshot":"e5869d90bbcebcdd40b823d05979700a7fde87b63cf813a04a09af00686d7d32.png","timeStamp":1726393021486,"screenshotName":"e5869d90bbcebcdd40b823d05979700a7fde87b63cf813a04a09af00686d7d32.png"}],"result":"SUCCESS","precondition":false,"level":2},{"number":15,"description":"Ricardo enters \u0027Amsterdam\u0027 into the \u0027city\u0027 input field","duration":484,"startTime":"2024-09-15T09:37:01.488300428Z[Etc/UTC]","screenshots":[{"screenshot":"0c332523d56402850459625f8099a5c784461ca37eff981980bf3fb99e78269d.png","timeStamp":1726393021972,"screenshotName":"0c332523d56402850459625f8099a5c784461ca37eff981980bf3fb99e78269d.png"}],"result":"SUCCESS","precondition":false,"level":2},{"number":16,"description":"Ricardo enters \u00270687234567\u0027 into the \u0027telephone\u0027 input field","duration":759,"startTime":"2024-09-15T09:37:01.975759335Z[Etc/UTC]","screenshots":[{"screenshot":"a0bed619f9752517587912ecb72f600c1c46f81164dd3f2318c458fc8ac9e357.png","timeStamp":1726393022734,"screenshotName":"a0bed619f9752517587912ecb72f600c1c46f81164dd3f2318c458fc8ac9e357.png"}],"result":"SUCCESS","precondition":false,"level":2},{"number":17,"description":"Ricardo clicks on the Submit button","duration":1837,"startTime":"2024-09-15T09:37:02.736366636Z[Etc/UTC]","screenshots":[{"screenshot":"3ed3add891f31852ba35761e23c5ea1a5c50c885b35f18e1e82674e149533d7c.png","timeStamp":1726393024574,"screenshotName":"3ed3add891f31852ba35761e23c5ea1a5c50c885b35f18e1e82674e149533d7c.png"}],"result":"SUCCESS","precondition":false,"level":2}]}]},{"number":18,"description":"Then he should see an alert containing the following error","duration":10889,"startTime":"2024-09-15T09:37:04.582023944Z[Etc/UTC]","result":"FAILURE","reportData":[{"title":"Expected alert message","contents":"Bad Request\nAn owner with the same personal information already exists","isEvidence":false,"id":"report-data-26ae49f6-6a2c-411a-98f0-c1c98de5312f"}],"precondition":false,"level":0,"children":[{"number":19,"description":"For Ricardo: Then the content of visible alert should contain all the invalid fields","duration":10258,"startTime":"2024-09-15T09:37:04.594255429Z[Etc/UTC]","screenshots":[{"screenshot":"73e084eaa50abc5d3f4e52ac67ea0f6e408c70d03bdd50db02bc0fdf87d851d0.png","htmlSource":"pagesource4839110023132340541.html","timeStamp":1726393034853,"screenshotName":"73e084eaa50abc5d3f4e52ac67ea0f6e408c70d03bdd50db02bc0fdf87d851d0.png"}],"exception":{"errorType":"java.lang.AssertionError","message":"There is no alert present","stackTrace":[{"declaringClass":"com.ricardorlg.vetclinc.questions.CommonWebQuestions","methodName":"lambda$theDisplayedAlertErrorContent$1","fileName":"CommonWebQuestions.java","lineNumber":23},{"declaringClass":"com.ricardorlg.vetclinic.stepdefinitions.CommonStepDefinitions","methodName":"shouldSeeAnAlertContainingTheFollowingError","fileName":"CommonStepDefinitions.java","lineNumber":28}],"rootCause":{"errorType":"org.openqa.selenium.NoAlertPresentException","message":"no such alert\n  (Session info: chrome\u003d128.0.6613.119)\nBuild info: version: \u00274.23.1\u0027, revision: \u0027656257d8e9\u0027\nSystem info: os.name: \u0027Linux\u0027, os.arch: \u0027amd64\u0027, os.version: \u00276.5.0-1025-azure\u0027, java.version: \u002721.0.4\u0027\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [beafd5dd38f490be000e352e3d15e119, getAlertText {}]\nCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 128.0.6613.119, chrome: {chromedriverVersion: 128.0.6613.119 (6e439cfca4d..., userDataDir: /tmp/.org.chromium.Chromium...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:41147}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: linux, proxy: Proxy(), se:cdp: ws://localhost:41147/devtoo..., se:cdpVersion: 128.0.6613.119, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: beafd5dd38f490be000e352e3d15e119","stackTrace":[{"declaringClass":"com.ricardorlg.vetclinc.questions.CommonWebQuestions","methodName":"lambda$theDisplayedAlertErrorContent$1","fileName":"CommonWebQuestions.java","lineNumber":15},{"declaringClass":"com.ricardorlg.vetclinic.stepdefinitions.CommonStepDefinitions","methodName":"shouldSeeAnAlertContainingTheFollowingError","fileName":"CommonStepDefinitions.java","lineNumber":28}]}},"result":"FAILURE","precondition":false,"level":1}]}],"userStory":{"id":"classpath:features/owners/owners_registration","storyName":"The Pet Clinic should allow to register a pet owner in the system","displayName":"The Pet Clinic should allow to register a pet owner in the system","path":"owners/owners_registration","pathElements":[{"name":"owners","description":""},{"name":"owners_registration","description":""}],"narrative":"  As a VetClinic Manager\n  I would like to be able to register a new owner in the system\n  In order to handle all the pets and visits made by him","type":"feature"},"title":"the one where Ricardo tries to register a new owner using the Web form with an existing owner","description":"","tags":[{"name":"Assertion error","type":"error","displayName":"Assertion error"},{"name":"Web","type":"tag","displayName":"Web"}],"startTime":"2024-09-15T09:36:39.486234194Z[Etc/UTC]","endTime":"2024-09-15T09:37:14.996188308Z[Etc/UTC]","duration":35968,"rule":{"name":"The system should not allow to register an owner with same personal information of an existing owner","description":""},"testFailureCause":{"errorType":"net.thucydides.model.domain.MultipleAssertionErrors","message":"\nThe following 2 assertions failed:\n1) There is no alert present\n2) There is no alert present\n","stackTrace":[]},"testFailureClassname":"net.thucydides.model.domain.MultipleAssertionErrors","testFailureMessage":"\nThe following 2 assertions failed:\n1) There is no alert present\n2) There is no alert present\n","testFailureSummary":"\nThe following 2 assertions failed:\n1) There is no alert present\n2) There is no alert present\n","projectKey":"","annotatedResult":"FAILURE","isManualTestingUpToDate":false,"manual":false,"testSource":"Cucumber","actors":[{"name":"Kelly"},{"name":"Ricardo"}],"result":"FAILURE"}