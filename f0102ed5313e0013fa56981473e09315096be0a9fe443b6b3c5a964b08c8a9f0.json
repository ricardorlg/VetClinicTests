{"name":"the one where Ricardo wants to delete an owner using the clinic API","id":"the-pet-clinic-should-allow-to-manage-the-owners-information;the-one-where-ricardo-wants-to-delete-an-owner-using-the-clinic-api","scenarioId":"classpath:features/owners/manage_owners:the one where Ricardo wants to delete an owner using the clinic API","methodName":"the one where Ricardo wants to delete an owner using the clinic API","testSteps":[{"number":1,"description":"Given Kelly has registered the following owner in the system\n| firstName | lastName | address | city | phone |\n| Daniela | Smith | new-york-street 123 | New York | 124219862 |","duration":42873,"startTime":"2024-09-16T08:50:30.699421299Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":2,"description":"Kelly registers a new Owner using the API","duration":79,"startTime":"2024-09-16T08:51:13.485445058Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":3,"description":"Kelly executes a POST on the resource /owners","duration":72,"startTime":"2024-09-16T08:51:13.491562212Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":2,"children":[{"number":4,"description":"POST http://localhost:32770/owners","duration":0,"startTime":"2024-09-16T08:52:21.562085224Z[Etc/UTC]","result":"SUCCESS","restQuery":{"method":"POST","path":"http://localhost:32770/owners","content":"{\n    \"firstName\": \"Daniela\",\n    \"lastName\": \"Smith\",\n    \"address\": \"new-york-street 123\",\n    \"city\": \"New York\",\n    \"telephone\": \"124219862\"\n}","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Content-Length: 0\nDate: Mon, 16 Sep 2024 08:51:13 GMT","responseCookies":"","statusCode":201},"precondition":false,"level":3}]}]}]},{"number":5,"description":"When Ricardo sends a request to delete Daniela Smith using the clinic API","duration":706,"startTime":"2024-09-16T08:51:13.572721174Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":6,"description":"Ricardo executes a DELETE on the resource /owners/{ownerId}","duration":237,"startTime":"2024-09-16T08:51:14.017573219Z[Etc/UTC]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":7,"description":"DELETE http://localhost:32770/owners/12","duration":0,"startTime":"2024-09-16T08:52:21.562441489Z[Etc/UTC]","result":"SUCCESS","restQuery":{"method":"DELETE","path":"http://localhost:32770/owners/12","content":"","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json","requestCookies":"","responseHeaders":"Allow: GET, PUT\nvary: accept-encoding\nContent-Encoding: gzip\nContent-Type: application/json;charset\u003dUTF-8\nTransfer-Encoding: chunked\nDate: Mon, 16 Sep 2024 08:51:13 GMT","responseCookies":"","responseBody":"{\n    \"timestamp\": \"2024-09-16T08:51:14.203+0000\",\n    \"status\": 405,\n    \"error\": \"Method Not Allowed\",\n    \"message\": \"Request method \u0027DELETE\u0027 not supported\",\n    \"path\": \"/owners/12\"\n}","statusCode":405},"precondition":false,"level":2}]}]},{"number":8,"description":"Then the system should return a 200 response code","duration":67273,"startTime":"2024-09-16T08:51:14.293441129Z[Etc/UTC]","result":"FAILURE","precondition":false,"level":0,"children":[{"number":9,"description":"For Ricardo: Then the response status should be (200)","duration":10052,"startTime":"2024-09-16T08:51:14.299501407Z[Etc/UTC]","exception":{"errorType":"java.lang.AssertionError","message":"\nExpected: \u003c200\u003e\n     but: was \u003c405\u003e","stackTrace":[{"declaringClass":"com.ricardorlg.vetclinic.stepdefinitions.CommonStepDefinitions","methodName":"theSystemShouldReturnAResponseCode","fileName":"CommonStepDefinitions.java","lineNumber":48}]},"result":"FAILURE","precondition":false,"level":1}]},{"number":10,"description":"And the owner should not be listed in the system anymore","duration":0,"startTime":"2024-09-16T08:51:24.352996791Z[Etc/UTC]","result":"SKIPPED","precondition":false,"level":0}],"userStory":{"id":"classpath:features/owners/manage_owners","storyName":"The Pet Clinic should allow to manage the owners information","displayName":"The Pet Clinic should allow to manage the owners information","path":"owners/manage_owners","pathElements":[{"name":"owners","description":""},{"name":"manage_owners","description":""}],"narrative":"  As a VetClinic Manager\n  I would like to be able to manage the owners information\n  In order to handle all the pets and visits made by them","type":"feature"},"title":"the one where Ricardo wants to delete an owner using the clinic API","description":"","tags":[{"name":"Linux","type":"context","displayName":"Linux"},{"name":"Chrome","type":"context","displayName":"Chrome"},{"name":"Assertion error","type":"error","displayName":"Assertion error"},{"name":"Chrome, Linux","type":"context","displayName":"Chrome, Linux"},{"name":"Api","type":"tag","displayName":"Api"}],"startTime":"2024-09-16T08:50:30.690128288Z[Etc/UTC]","endTime":"2024-09-16T08:51:24.355645082Z[Etc/UTC]","duration":110871,"rule":{"name":"The system should allow to delete an owner registered in the system","description":""},"testFailureCause":{"errorType":"net.thucydides.model.domain.MultipleAssertionErrors","message":"\nThe following 2 assertions failed:\n1) Expected: \u003c200\u003e\n     but: was \u003c405\u003e\n2) Expected: \u003c200\u003e\n     but: was \u003c405\u003e\n","stackTrace":[]},"testFailureClassname":"net.thucydides.model.domain.MultipleAssertionErrors","testFailureMessage":"\nThe following 2 assertions failed:\n1) Expected: \u003c200\u003e\n     but: was \u003c405\u003e\n2) Expected: \u003c200\u003e\n     but: was \u003c405\u003e\n","testFailureSummary":"\nThe following 2 assertions failed:\n1) Expected: \u003c200\u003e\n     but: was \u003c405\u003e\n2) Expected: \u003c200\u003e\n     but: was \u003c405\u003e\n","projectKey":"","annotatedResult":"FAILURE","isManualTestingUpToDate":false,"context":"chrome,linux","manual":false,"testSource":"Cucumber","actors":[{"name":"Kelly"},{"name":"Ricardo"}],"result":"FAILURE"}